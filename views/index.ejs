<%- include('partials/header') %>

<div class="row mb-4">
    <div class="col-md-12 text-center">
        <h1 class="display-4 mb-4">Welcome to Library Management System</h1>
        <p class="lead">Efficiently manage your library's books, members, and operations.</p>
    </div>
</div>

<% if (user) { %>
    <!-- Quick Stats -->
    <div class="row mb-5">
        <div class="col-md-3">
            <div class="card text-white bg-primary">
                <div class="card-body text-center">
                    <i class="fas fa-books fa-3x mb-3"></i>
                    <h5 class="card-title">Books Management</h5>
                    <div class="mt-3">
                        <a href="/books" class="btn btn-outline-light btn-sm">View Books</a>
                        <a href="/books/register" class="btn btn-outline-light btn-sm">Add Book</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white bg-success">
                <div class="card-body text-center">
                    <i class="fas fa-users fa-3x mb-3"></i>
                    <h5 class="card-title">Members Management</h5>
                    <div class="mt-3">
                        <a href="/members" class="btn btn-outline-light btn-sm">View Members</a>
                        <a href="/members/register" class="btn btn-outline-light btn-sm">Add Member</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white bg-info">
                <div class="card-body text-center">
                    <i class="fas fa-hand-holding-book fa-3x mb-3"></i>
                    <h5 class="card-title">Borrowing Management</h5>
                    <div class="mt-3">
                        <a href="/borrowing" class="btn btn-outline-light btn-sm">View Borrowings</a>
                        <a href="/borrowing/new" class="btn btn-outline-light btn-sm">New Borrowing</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white bg-warning">
                <div class="card-body text-center">
                    <i class="fas fa-tools fa-3x mb-3"></i>
                    <h5 class="card-title">Maintenance</h5>
                    <div class="mt-3">
                        <a href="/maintenance" class="btn btn-outline-light btn-sm">View Records</a>
                        <a href="/maintenance/new" class="btn btn-outline-light btn-sm">New Record</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-light">
                    <h5 class="card-title mb-0">Quick Actions</h5>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="/borrowing/new" class="list-group-item list-group-item-action">
                            <i class="fas fa-plus-circle me-2"></i>New Borrowing
                        </a>
                        <a href="/returns" class="list-group-item list-group-item-action">
                            <i class="fas fa-undo me-2"></i>Process Returns
                        </a>
                        <a href="/members/register" class="list-group-item list-group-item-action">
                            <i class="fas fa-user-plus me-2"></i>Register New Member
                        </a>
                        <a href="/books/register" class="list-group-item list-group-item-action">
                            <i class="fas fa-book-medical me-2"></i>Register New Book
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-light">
                    <h5 class="card-title mb-0">System Information</h5>
                </div>
                <div class="card-body">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <i class="fas fa-user me-2"></i>Logged in as: <strong><%= user.username %></strong>
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-clock me-2"></i>Current Time: <strong><%= new Date().toLocaleString() %></strong>
                        </li>
                        <li class="list-group-item">
                            <i class="fas fa-server me-2"></i>System Status: <strong class="text-success">Online</strong>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
<% } else { %>
    <!-- Login/Register Section for non-authenticated users -->
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body text-center">
                    <h3 class="card-title mb-4">Get Started</h3>
                    <p class="card-text mb-4">Please login or register to access the library management system.</p>
                    <div class="d-grid gap-2 col-6 mx-auto">
                        <a href="/users/login" class="btn btn-primary btn-lg">
                            <i class="fas fa-sign-in-alt me-2"></i>Login
                        </a>
                        <a href="/users/register" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-user-plus me-2"></i>Register
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <div class="row mt-5">
        <div class="col-12 text-center mb-4">
            <h2>System Features</h2>
        </div>
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-books fa-3x text-primary mb-3"></i>
                    <h5 class="card-title">Book Management</h5>
                    <p class="card-text">Efficiently manage your library's book inventory with easy registration and tracking.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-users fa-3x text-success mb-3"></i>
                    <h5 class="card-title">Member Management</h5>
                    <p class="card-text">Keep track of library members, their borrowing history, and account status.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-chart-line fa-3x text-info mb-3"></i>
                    <h5 class="card-title">Advanced Analytics</h5>
                    <p class="card-text">Get insights into library usage patterns and popular books with detailed reports.</p>
                </div>
            </div>
        </div>
    </div>
<% } %>

<%- include('partials/footer') %>